PROGRAM TASKWAIT

REAL PSUM(100), TSUM
PSUM=0; TSUM=0

!$OMP PARALLEL SHARED(PSUM)
!$OMP SINGLE
    DO I=1,100
!$OMP TASK
       PSUM(I)= I
!$OMP END TASK
    ENDDO
!$OMP END SINGLE
!$OMP BARRIER
    TSUM=SUM(PSUM)
!$OMP MASTER
    PRINT*, TSUM
!$OMP END MASTER
!$OMP END PARALLEL

ENDPROGRAM
